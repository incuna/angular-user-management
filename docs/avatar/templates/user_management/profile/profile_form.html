<div class="alert alert-success" ng-if="updated === true">
    <p>You have updated your profile.</p>
</div>

<div class="form-group" ng-class="{'has-error': fields.name.errors}">
    <label for="name" ng-if="fields.name.label">{{ fields.name.label }}</label>
    <input type="text" ng-model="data.name" class="form-control" id="name" maxlength="{{ fields.name.max_length }}">
    <div class="help-block" ng-if="fields.name.errors">
        {{ fields.name.errors }}
    </div>
</div>

<div class="form-group" ng-class="{'has-error': fields.avatar.errors}">
    <label for="avatar" ng-if="fields.avatar.label">{{ fields.avatar.label }}</label>

    <img avatar user-url="{{ avatarUploadUrl }}" image-width="300" image-height="300" width="150" height="150">

    <input type="hidden" name="token" value="{{ token }}">

    <input type="hidden" name="redirect_url" value="{{ absUrl }}">

    <div class="avatar-upload-wrapper">
        <span class="avatar-upload-target">Upload avatar</span>
        <br>
        <input type="file" name="avatar" auto-submit form-id="profileForm">
    </div>

    <button type="button" ng-click="clearAvatar($event)">Clear avatar</button>

    <div class="help-block" ng-if="errors.avatar" ng-bind="errors.avatar"></div>
</div>

<button type="submit" class="btn btn-default">Update profile</button>
