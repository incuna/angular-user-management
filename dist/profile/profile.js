!function(a){"use strict";a.module("user_management.profile",["ngRoute","user_management.common"])}(window.angular),function(a){"use strict";var b=a.module("user_management.profile");b.provider("userManagementProfileConfig",function(){var a="",b="/profile";return{$get:function(){return{apiRoot:function(){return a},profileEndpoint:function(){return b}}},setApiRoot:function(b){a=b},setProfileEndpoint:function(a){b=a}}})}(window.angular),function(a){"use strict";var b=a.module("user_management.profile");b.config(["$routeProvider",function(a){a.when("/profile/",{templateUrl:"templates/user_management/profile/profile.html",controller:"ProfileCtrl",anonymous:!1}).when("/delete-profile-confirmation/",{templateUrl:"templates/user_management/profile/delete-profile-confirmation.html",controller:"ProfileDeletedCtrl"})}])}(window.angular),function(a){"use strict";var b=a.module("user_management.profile");b.factory("profileFactory",["$http","userManagementProfileConfig",function(a,b){var c=b.apiRoot(),d={url:c+b.profileEndpoint(),options:function(){return a({method:"OPTIONS",url:d.url})},get:function(){return a({method:"GET",url:d.url})},deleteData:function(){return a({method:"DELETE",url:d.url})},patch:function(b){return a({method:"PATCH",url:d.url,data:b})}};return{profile:d}}])}(window.angular),function(a){"use strict";var b=a.module("user_management.profile");b.controller("ProfileCtrl",[function(){}]),b.controller("ProfileDeletedCtrl",[function(){}])}(window.angular),function(a){"use strict";var b=a.module("user_management.profile");b.directive("profileForm",["profileFactory","catchErrors",function(b,c){return{restrict:"A",scope:!0,templateUrl:"templates/user_management/profile/profile_form.html",link:function(d,e,f){d.data={},b.profile.get().then(function(b){a.extend(d.data,b.data)});var g=b.profile.options();g.then(function(a){d.fields=a.data.actions.PUT}),d.editProfile=function(e){d.loading||g.then(function(){d.loading=!0,d.updated=!1,d.successData=void 0,d.errorData=void 0,a.forEach(d.fields,function(a,b){a.errors=""}),d.errors={},b.profile.patch(d.data).then(function(b){d.data=b.data,a.isDefined(e)&&a.forEach(b.data,function(a,b){e[b]=a}),d.updated=!0,d.successData=b.data},function(b){d.errorData=b.data;var e=c.all(b,d.fields);a.merge(d.errors,e.nonFieldErrors),a.merge(d.fields,e.fieldErrors)})["finally"](function(){d.loading=!1})})}}}}]),b.directive("profileDelete",["profileFactory","$modal","$location","$filter",function(a,b,c,d){return{restrict:"A",scope:!0,link:function(e,f,g){e.deleteProfile=function(){b.open({templateUrl:"templates/user_management/profile/delete-profile.html",windowClass:"delete-profile",controller:["$scope","$modalInstance",function(b,e){b.failed=!1,b.close=function(){e.dismiss("close")},b.deleteProfile=function(){a.profile.deleteData().then(function(){e.dismiss("close"),c.path(d("reverseUrl")("ProfileDeletedCtrl").substring(1))},function(){b.failed=!0})}}]})}}}}])}(window.angular);