!function(a){"use strict";a.module("user_management.registration",["ngRoute","user_management.common"])}(window.angular),function(a){"use strict";var b=a.module("user_management.registration");b.provider("userManagementRegistrationConfig",function(){var a="",b="/register";return{$get:function(){return{apiRoot:function(){return a},registrationEndpoint:function(){return b}}},setApiRoot:function(b){a=b},setRegistrationEndpoint:function(a){b=a}}})}(window.angular),function(a){"use strict";var b=a.module("user_management.registration");b.config(["$routeProvider",function(a){a.when("/register/",{templateUrl:"templates/user_management/registration/register.html",controller:"RegistrationCtrl",anonymousOnly:!0})}])}(window.angular),function(a){"use strict";var b=a.module("user_management.registration");b.factory("registrationFactory",["$http","userManagementRegistrationConfig",function(a,b){var c=b.apiRoot(),d={url:c+b.registrationEndpoint(),options:function(){return a({method:"OPTIONS",url:d.url})},post:function(b){return a({method:"POST",url:d.url,data:b})}};return{register:d}}])}(window.angular),function(a){"use strict";var b=a.module("user_management.registration");b.controller("RegistrationCtrl",[function(){}])}(window.angular),function(a){"use strict";var b=a.module("user_management.registration");b.directive("registerForm",["$parse","registrationFactory","catchErrors",function(b,c,d){return{restrict:"A",scope:!0,templateUrl:"templates/user_management/registration/register_form.html",link:function(e,f,g){if(e.data={},a.isDefined(g.onRegister)){var h=b(g.onRegister);h!==a.noop&&(e.onRegister=function(a){return h(e.$parent,a)})}var i=c.register.options();i.then(function(a){e.fields=a.data.actions.POST}),e.register=function(){e.loading||i.then(function(){e.loading=!0,e.registered=!1,e.successData=void 0,e.errorData=void 0,a.forEach(e.fields,function(a,b){a.errors=""}),e.errors={},c.register.post(e.data).then(function(b){e.registered=!0,a.isDefined(e.onRegister)&&e.onRegister({user:a.copy(e.data)}),e.data={}},function(b){e.errorData=b.data;var c=d.all(b,e.fields);a.merge(e.errors,c.nonFieldErrors),a.merge(e.fields,c.fieldErrors)})["finally"](function(){e.loading=!1})})}}}}])}(window.angular);