!function(a){"use strict";a.module("user_management.registration",["ngRoute"])}(window.angular),function(a){"use strict";var b=a.module("user_management.registration");b.provider("userManagementRegistrationConfig",function(){var a="",b="/register";return{$get:function(){return{apiRoot:function(){return a},registrationEndpoint:function(){return b}}},setApiRoot:function(b){a=b},setRegistrationEndpoint:function(a){b=a}}})}(window.angular),function(a){"use strict";var b=a.module("user_management.registration");b.config(["$routeProvider",function(a){a.when("/register/",{templateUrl:"templates/user_management/registration/register.html",controller:"RegistrationCtrl",anonymousOnly:!0})}])}(window.angular),function(a){"use strict";var b=a.module("user_management.registration");b.factory("registrationFactory",["$http","userManagementRegistrationConfig",function(a,b){var c=b.apiRoot(),d={url:c+b.registrationEndpoint(),options:function(){return a({method:"OPTIONS",url:d.url})},post:function(b){return a({method:"POST",url:d.url,data:b})}};return{register:d}}])}(window.angular),function(a){"use strict";var b=a.module("user_management.registration");b.controller("RegistrationCtrl",[function(){}])}(window.angular),function(a){"use strict";var b=a.module("user_management.registration");b.directive("registerForm",["$parse","registrationFactory",function(b,c){return{restrict:"A",scope:!0,templateUrl:"templates/user_management/registration/register_form.html",link:function(d,e,f){if(d.data={},a.isDefined(f.onRegister)){var g=b(f.onRegister);g!==a.noop&&(d.onRegister=function(a){return g(d.$parent,a)})}var h=c.register.options();h.then(function(a){d.fields=a.data.actions.POST}),d.register=function(){d.loading||h.then(function(){d.loading=!0,d.registered=!1,d.successData=void 0,d.errorData=void 0,a.forEach(d.fields,function(a){a.errors=""}),d.errors={},c.register.post(d.data).then(function(){d.registered=!0,a.isDefined(d.onRegister)&&d.onRegister({user:a.copy(d.data)}),d.data={}},function(b){d.errorData=b.data,a.forEach(b.data,function(b,c){b=a.isArray(b)?b[0]:b,a.isDefined(d.fields[c])&&(d.fields[c].errors=b),d.errors[c]=b})})["finally"](function(){d.loading=!1})})}}}}])}(window.angular);