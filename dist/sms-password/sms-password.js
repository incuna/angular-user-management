!function(a){"use strict";a.module("user_management.sms-password",["ngRoute"])}(window.angular),function(a){"use strict";var b=a.module("user_management.sms-password");b.provider("userManagementSmsPasswordConfig",function(){var a="",b="/password-reset-sms/confirm",c="/password-reset-sms";return{$get:function(){return{apiRoot:function(){return a},changeEndpoint:function(){return b},resetRequestEndpoint:function(){return c}}},setApiRoot:function(b){a=b},setChangeEndpoint:function(a){b=a},setResetRequestEndpoint:function(a){c=a}}})}(window.angular),function(a){"use strict";var b=a.module("user_management.sms-password");b.config(["$routeProvider",function(a){a.when("/sms-password-reset/",{templateUrl:"templates/user_management/sms-password/reset.html",controller:"SmsPasswordResetCtrl",anonymousOnly:!0})}])}(window.angular),function(a){"use strict";var b=a.module("user_management.sms-password");b.factory("smsPasswordFactory",["$http","userManagementSmsPasswordConfig",function(a,b){var c=b.apiRoot(),d={url:c+b.resetRequestEndpoint(),options:function(){return a({method:"OPTIONS",url:d.url})},post:function(b){return a({method:"POST",url:d.url,data:b})}},e={url:c+b.changeEndpoint(),options:function(){return a({method:"OPTIONS",url:e.url})},put:function(b){return a({method:"POST",url:e.url,data:b})}};return{resetRequest:d,change:e}}])}(window.angular),function(a){"use strict";var b=a.module("user_management.sms-password");b.controller("SmsPasswordResetCtrl",[function(){}])}(window.angular),function(a){"use strict";var b=a.module("user_management.sms-password");b.directive("smsPasswordResetRequestForm",["smsPasswordFactory",function(b){return{restrict:"A",scope:{data:"=?"},templateUrl:"templates/user_management/sms-password/reset_request_form.html",link:function(c,d,e){c.loading=!0,c.requested=!1,b.resetRequest.options().then(function(a){c.loading=!1,c.fields=a.data.actions.POST}),c.resetRequest=function(){c.loading||(c.loading=!0,c.requested=!1,c.successData=void 0,c.errorData=void 0,a.forEach(c.fields,function(a,b){a.errors=""}),c.errors={},b.resetRequest.post(c.data).then(function(a){c.requested=!0,c.successData=a.data})["catch"](function(b){c.errorData=b.data,a.forEach(b.data,function(b,d){b=a.isArray(b)?b[0]:b,a.isDefined(c.fields[d])&&(c.fields[d].errors=b),c.errors[d]=b})})["finally"](function(){c.loading=!1}))}}}}]),b.directive("smsPasswordResetForm",["$route","smsPasswordFactory",function(b,c){return{restrict:"A",scope:{data:"=?"},templateUrl:"templates/user_management/sms-password/reset_form.html",link:function(b,d,e){b.loading=!0,b.changed=!1,c.change.options().then(function(a){b.fields=a.data.actions.POST,b.loading=!1}),b.changePassword=function(){b.loading||(b.loading=!0,b.changed=!1,b.successData=void 0,b.errorData=void 0,a.forEach(b.fields,function(a,b){a.errors=""}),b.errors={},c.change.put(b.data).then(function(a){b.data={},b.changed=!0,b.successData=a.data})["catch"](function(c){b.errorData=c.data,a.forEach(c.data,function(c,d){c=a.isArray(c)?c[0]:c,a.isDefined(b.fields[d])&&(b.fields[d].errors=c),b.errors[d]=c})})["finally"](function(){b.loading=!1}))}}}}])}(window.angular);